[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Book My Show",
  "enabled": 1,
  "modified": "2022-03-25 17:23:12.618515",
  "module": "Book My Show",
  "name": "Book My Show-Form",
  "script": "\n\t\n//  \tvar movie_name = frappe.db.get_value('Movie Details', filters={'parent':row.theater}, fields=['movie_name']);\n//  \talert('movie_name')\n//  \tfrappe.msgprint(movie_name);\n \t\n// \tmovie_details = frappe.db.get_list('Movie Details',filters={'parent': row.theater },fields=['movie_name', 'slots']);\n// \tfrappe.msgprint(movie_details);\n\t\n// });\n\nfrappe.ui.form.on('Book My Show', {\n\trefresh(frm,doctype,name) {\n\t    var d = locals[doctype][name];\n\t\n\t\tvar total = 0;\n\t\tif (d.book_ticket){\n        d.book_ticket.forEach(function(od){\n            total += od.total_price;\n         });\n    \tfrappe.model.set_value(doctype,name,'grand_total',total);\n\t}\n\t},\n\ttheater_name(frm,doctype,name){\n     if(frm.doc.theater_name){\n        \tfrm.clear_table('theater_amenities');\n                frappe.model.with_doc(\"Theater Amenities\", frm.doc.theater_name, function() {\n                var tabletransfer= frappe.model.get_doc(\"Theater Amenities\", frm.doc.theater_name);\n                $.each(tabletransfer.facilities, function(index, row){\n                    var d = frm.add_child(\"theater_amenities\");\n                    d.facilities = row.facilities;\n                    cur_frm.refresh_field(\"theater_amenities\");\n                    });\n            });\n        }\n        \n            \n    }\n});\n\n\nfrappe.ui.form.on(\"Book My Show\", \"onload\", function(frm) {\n    frm.set_query(\"theater_name\", function() {\n        return {\n            \"filters\": {\n                \"movie_name\":frm.doc.movies_name\n            }\n        };\n    });\n});\n\n\n\n\n// frappe.ui.form.on(\"Book Tickets\", \"no_of_seats\", function(frm, doctype, name) {\n//           var row = locals[doctype][name];\n//           row.total_price = row.price * row.no_of_seats;\n                      \n                     \n//         //   refresh_field(\"book_ticket\");\n//           frm.refresh();\n                    \n                    // });\nfrappe.ui.form.on(\"Book Tickets\", \"no_of_seats\", function(frm, doctype, name) {\n          var row = locals[doctype][name];\n          row.total_price = row.price * row.no_of_seats;\n        //  frappe.msgprint(\" calculated value:\"+row.total_price);\n          refresh_field(\"book_ticket\");\n        });\nfrappe.ui.form.on(\"Book Tickets\", \"price\", function(frm, doctype, name) {\n          var row = locals[doctype][name];\n          row.total_price = row.price * row.no_of_seats;\n         \n          refresh_field(\"book_ticket\");\n        });                    \n                    \n        \n    \t\n// frappe.ui.form.on('Book My Show', {\n// \trefresh(frm,doctype,name) {\n// \t    var d = locals[doctype][name];\n// \t     if (d.book_show)\n// \t\t{   var total = 0;\n\t\t\n//             d.book_show.forEach(function(od){\n              \n//                 total += od.total_price;\n//             });\n//             \tfrappe.model.set_value(doctype,name ,'grand_total', total);\n//             \trefresh_field('book_show')\n// \t\t}\n    \t\n    \t\n\t\n// }\n\n          \n//     //   date(frm){\n//     //      \tif (frm.doc.date < frappe.datetime.get_today()) {\n    //          msgprint('You can not select past date');\n    //          var a = null ;                                                     // frm.doc.admission_date =null;\n    //          frm.set_value('date', a)\n        \n    //     .then(() => {\n    //         frappe.msgprint(\"please choose correct date\");\n    //      });   \n    //      \t}\n         \t\n    //   },\n   \n\n\n          \n// frappe.ui.form.on(\"Book Show\", \"no_of_seats\", function(frm, doctype, name) {\n//           var row = locals[doctype][name];\n//           row.total_price = row.total_seats - row.no_of_seats;\n          \n         \n//           refresh_field(\"book_show\");\n//         });\n                \n\n\n\n        \n      \n\n \n\n\n// your code here\n// \t\tfrm.add_custom_button(__('Get User Movie Name'),function(){\n//   \t            frappe.msgprint(frm.doc.movie);\n//   \t    }, __(\"Utilities\"));\n//   \t    frm.add_custom_button(__('Get User Address'),function(){\n//   \t            frappe.msgprint(frm.doc.address);\n//   \t    }, __(\"Utilities\"));\n\n\t   \n// \tonload(frm){\n// \t    frappe.msgprint(\" Form is loaded\");\n// \t},\n   \n\n// frappe.ui.form.on('Book My Show', {\n// \trefresh(frm,doctype,name) {\n\t     \n// \t}\n\t\n// });\n            \n// theater(frm,cdt,cdn){\n//          if(frm.doc.theater){\n//         \tfrm.clear_table('book_show');\n//                 frappe.model.with_doc(\"Theater\", frm.doc.theater, function() {\n//                 var tabletransfer= frappe.model.get_doc(\"Theater\", frm.doc.theater);\n//                 $.each(tabletransfer.seat_types, function(index, row)\n//                 {\n//                     var d = frm.add_child(\"book_show\");\n//                     d.seats_type = row.seats_type;\n//                     d.price = row.seats_type;\n//                      d.avilable_seats = row.seats_type;\n//                     cur_frm.refresh_field(\"book_show\");\n//                     });\n//             });\n//         }\n            \n//     } \n\n        \n        \n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Client Information",
  "enabled": 1,
  "modified": "2022-03-03 18:36:38.051277",
  "module": null,
  "name": "Client Information-Form",
  "script": "frappe.ui.form.on('Client Information', {\n    //setup(frm){\n     refresh(frm) {\n         \n        //  let row = frm.add_child('items', {\n        //                 name1: 'Hair care products',\n        //                  qty: 2\n        //             });\n        //         frm.refresh_field('items');\n        \n\n// frm.refresh('Item2');\n        //  frm.email_doc(`Hello ${frm.doc.client_name}`);\n         \n        \n  \t //   frm.add_custom_button(__('Get User Email Address'),function(){\n  \t //           frappe.msgprint(frm.doc.email);\n  \t //   }, __(\"Utilities\"));\n  \t //   frm.add_custom_button(__('Get User Address'),function(){\n  \t //           frappe.msgprint(frm.doc.address);\n  \t //   }, __(\"Utilities\"));\n\n  \t    \n//   \t    frm.add_custom_button('Closed', () => {\n//         frappe.msgprint(\"closed button\");\n// }, 'Set Status');\n  \t    \n  \t    \n  \t    \n//  \t    frm.set_value({\n//  \tname1: 'Rutuja',\n//     email: 'jrutuja248@gmail.com',\n//     contact: '7030737368',\n//     address: 'pune'\n// })\n// frm.set_value('email', 'info2email.com')\n//     .then(() => {\n//         // do something after value is set\n//         frappe.msgprint(\"email changed successfully..!\");\n//     });\n\n// frm.refresh\n\n// \t\t// your code here\n// \t\t//frappe.msgprint(\"Client info script is working..!\")\n// \t    frm.set_df_property('name1','read_only', !frm.is_new());\n// \t    frm.set_df_property('address','read_only', !frm.is_new());\n\t    \n\t    if (frm.doc.date < frappe.datetime.get_today()) {\n\t    msgprint('You can not select past date in From Date');\n\n         }\n  }\n});\n   \n\t   // frm passed as the first parameter\n    // setup(frm) {\n    //     // write setup code\n    //     frappe.msgprint(\"Setup event trigger\")\n    // }\n    // before_load(frm) {\n    //     // write setup code\n    //     frappe.msgprint(\"Setup event trigger\")\n    // }\n    // onload(frm) {\n    //     // write setup code\n    //     frappe.msgprint(\"Setup event trigger\")\n    // }\n    // set a single value\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Customer Registration",
  "enabled": 1,
  "modified": "2022-03-05 14:31:08.301688",
  "module": null,
  "name": "Customer Registration-Form",
  "script": "\nfrappe.ui.form.on('Customer Registration', {\n\trefresh(frm,doctype,name) {\n\t},\n\t\n     phone_no(frm){\n      if(frm.doc.phone_no.length > 11) {\n        msgprint(\"The mobile no is not valid\");\n        var a = null;\n        frm.set_value('phone_no',a)\n    \n        .then(() => {\n            frappe.throw(\"please enter correct phone no\");\n \t });\n      }\n     }\n});\n \n \n \n \n \n    //   date(frm){\n    //      \tif (frm.doc.date < frappe.datetime.get_today()) {\n    //          msgprint('You can not select past date');\n    //          var a = null ;                                                     // frm.doc.admission_date =null;\n    //          frm.set_value('date', a)\n        \n    //     .then(() => {\n    //         frappe.msgprint(\"please choose correct date\");\n            \n            \n            \n            \n            \n    //         frappe.ui.form.on('Customer Registration','validate',function(frm) {\n    // if(frm.doc.phone_no.length > 11){\n//         frappe.throw(__(\"The Mobile no Is not valid.\"));   \n//         frappe.validated=false;\n//  \t}\n//  });\n \n ",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Theater",
  "enabled": 1,
  "modified": "2022-03-05 14:30:53.893469",
  "module": "Book My Show",
  "name": "Theater-Form",
  "script": "frappe.ui.form.on('Theater', {\n\trefresh(frm,doctype,name) {\n\t},\n\t\n     contact_no(frm){\n      if(frm.doc.contact_no.length > 11) {\n        msgprint(\"The contact no is not valid\");\n        var a = null;\n        frm.set_value('contact_no',a)\n    \n        .then(() => {\n            frappe.msgprint(\"please enter correct contact no\");\n \t });\n      }\n     }\n});\n\n\n\n\n// frappe.ui.form.on('Theater','validate',function(frm) {\n//     if(frm.doc.contact_no.length > 11){\n//         frappe.throw(__(\"The Contact No Is not valid.\"));   \n//         frappe.validated=false;\n//  \t}\n//  });\n ",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Movie Booking",
  "enabled": 1,
  "modified": "2022-03-31 09:53:59.494149",
  "module": "Book My Show",
  "name": "Movie Booking-Form",
  "script": "frappe.ui.form.on('Movie Booking', {\n\trefresh(frm,doctype,name) {\n\t    var d = locals[doctype][name];\n\t\n\t\tvar total = 0;\n\t\tif (d.book_ticket){\n        d.book_ticket.forEach(function(od){\n            total += od.total_price;\n         });\n    \tfrappe.model.set_value(doctype,name,'grand_total',total);\n\t}\n\t},\n\ttheater_name(frm,doctype,name){\n     if(frm.doc.theater_name){\n        \tfrm.clear_table('theater_amenities');\n                frappe.model.with_doc(\"Theater Amenities\", frm.doc.theater_name, function() {\n                var tabletransfer= frappe.model.get_doc(\"Theater Amenities\", frm.doc.theater_name);\n                $.each(tabletransfer.facilities, function(index, row){\n                    var d = frm.add_child(\"theater_amenities\");\n                    d.facilities = row.facilities;\n                    cur_frm.refresh_field(\"theater_amenities\");\n                    });\n            });\n        }\n        \n            \n    }\n});\n// frappe.ui.form.on(\"Movie Booking\", \"onload\", function(frm) {\n//     frm.set_query(\"movies_name\", function() {\n//         return {\n//             \"filters\": {\n                \n//                 \"area\":frm.doc.areas_name\n//             }\n//         };\n//     });\n// });\n\n\nfrappe.ui.form.on(\"Movie Booking\", \"onload\", function(frm) {\n    frm.set_query(\"theater_name\", function() {\n        return {\n            \"filters\": {\n                \n                \"movie_name\":frm.doc.movies_name\n            }\n        };\n    });\n});\n\nfrappe.ui.form.on(\"Book Tickets\", \"no_of_seats\", function(frm, doctype, name) {\n          var row = locals[doctype][name];\n          row.total_price = row.price * row.no_of_seats;\n        //  frappe.msgprint(\" calculated value:\"+row.total_price);\n          refresh_field(\"book_ticket\");\n        });\nfrappe.ui.form.on(\"Book Tickets\", \"price\", function(frm, doctype, name) {\n          var row = locals[doctype][name];\n          row.total_price = row.price * row.no_of_seats;\n         \n          refresh_field(\"book_ticket\");\n        });      \n        \n// date(frm){\n//          \tif (frm.doc.date < frappe.datetime.get_today()) {\n//              msgprint('You can not select past date');\n//              var a = null ;                                                     // frm.doc.admission_date =null;\n//              frm.set_value('date', a)\n        \n//         .then(() => {\n//             frappe.msgprint(\"please choose correct date\");\n//          });   \n//          \t}\n         \t\n//       };\n    \n   \n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Picking Slip",
  "enabled": 1,
  "modified": "2022-05-31 10:09:26.589904",
  "module": "Stock",
  "name": "Picking Slip-Form",
  "script": "frappe.ui.form.on('Picking Slip', {\n\trefresh(frm) {\n\t// your code here\ncur_frm.add_fetch(\"sales_order\",\"customer\",\"customer\");\ncur_frm.add_fetch(\"sales_order\",\"customer_name\",\"customer_name\");\ncur_frm.add_fetch(\"item_code\",\"item_name\",\"item_name\");\ncur_frm.add_fetch(\"item_code\",\"description\",\"description\");\n\n \t}\n});\n// set total qty of items, on change of qty\n// cur_frm.add_fetch(\"sales_order\",\"customer\",\"customer\");\nfrappe.ui.form.on('Picking Slip','validate', function(frm){\n    set_total_qty(frm);\n});\n\n\n// set total qty of items ,on change qty\nfrappe.ui.form.on('Picking Slip Item','qty', function(frm,cdt,cdn){\n    set_total_qty(frm);\n});\n\nvar set_total_qty = function(frm) {\n    var total_qty = 0.0;\n    $.each(frm.doc.items, function(i, row) {\n        total_qty += flt(row.qty);\n    });\n    frm.set_value('total_qty', total_qty);\n    frm.refresh();\n};\n",
  "view": "Form"
 }
]